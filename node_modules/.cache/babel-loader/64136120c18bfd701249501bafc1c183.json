{"ast":null,"code":"import _classCallCheck from\"/home/mandeep/Downloads/Song-sorch work/site/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/mandeep/Downloads/Song-sorch work/site/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/mandeep/Downloads/Song-sorch work/site/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/mandeep/Downloads/Song-sorch work/site/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import{cachedFetch}from\"./Cache\";import{FormattedNumber,ServerError,SetHTMLHeaders}from\"./Common\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var About=/*#__PURE__*/function(_Component){_inherits(About,_Component);var _super=_createSuper(About);function About(){var _this;_classCallCheck(this,About);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={serverError:null,totals:_this.props.totalStats&&_this.props.totalStats.totals||null};return _this;}_createClass(About,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;SetHTMLHeaders({title:\"About - Song Search\"});if(!this.state.totals){return cachedFetch(\"/api/stats/totals-simple\").then(function(r){if(r.ok){return r.json().then(function(results){if(results){_this2.setState({serverError:null,totals:results.totals});}});}else{_this2.setState({serverError:r});}});}}},{key:\"render\",value:function render(){var _this$state=this.state,serverError=_this$state.serverError,totals=_this$state.totals;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Made by Peter Bengtsson\",/*#__PURE__*/_jsx(\"br\",{}),\"For all inquires email \",/*#__PURE__*/_jsx(\"a\",{href:\"mailto:info@songsear.ch\",children:\" info@songsear.ch\"})]}),serverError&&/*#__PURE__*/_jsx(ServerError,{}),totals?/*#__PURE__*/_jsx(ShowNumbers,{numbers:totals}):null]});}}]);return About;}(Component);export default About;function ShowNumbers(_ref){var numbers=_ref.numbers;return/*#__PURE__*/_jsxs(\"div\",{className:\"numbers\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"There are currently\",\" \",/*#__PURE__*/_jsxs(\"b\",{children:[/*#__PURE__*/_jsx(FormattedNumber,{value:numbers.songs}),\" songs\"]}),\" \",\"to search amongst\",\" \",/*#__PURE__*/_jsxs(\"b\",{children:[/*#__PURE__*/_jsx(FormattedNumber,{value:numbers.artists}),\" artists\"]}),\" \",\"in\",\" \",/*#__PURE__*/_jsxs(\"b\",{children:[/*#__PURE__*/_jsx(FormattedNumber,{value:numbers.albums}),\" albums\"]}),\".\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"In total\",\" \",/*#__PURE__*/_jsxs(\"b\",{children:[/*#__PURE__*/_jsx(FormattedNumber,{value:numbers.searches}),\" searches\"]}),\" \",\"have been made.\"]})]});}","map":{"version":3,"sources":["/home/mandeep/Downloads/Song-sorch work/site/src/About.js"],"names":["React","Component","cachedFetch","FormattedNumber","ServerError","SetHTMLHeaders","About","state","serverError","totals","props","totalStats","title","then","r","ok","json","results","setState","ShowNumbers","numbers","songs","artists","albums","searches"],"mappings":"4nBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,WAAT,KAA4B,SAA5B,CACA,OAASC,eAAT,CAA0BC,WAA1B,CAAuCC,cAAvC,KAA6D,UAA7D,C,2FAEMC,CAAAA,K,uTACJC,K,CAAQ,CACNC,WAAW,CAAE,IADP,CAENC,MAAM,CAAG,MAAKC,KAAL,CAAWC,UAAX,EAAyB,MAAKD,KAAL,CAAWC,UAAX,CAAsBF,MAAhD,EAA2D,IAF7D,C,kEAKR,4BAAoB,iBAClBJ,cAAc,CAAC,CACbO,KAAK,CAAE,qBADM,CAAD,CAAd,CAGA,GAAI,CAAC,KAAKL,KAAL,CAAWE,MAAhB,CAAwB,CACtB,MAAOP,CAAAA,WAAW,CAAC,0BAAD,CAAX,CAAwCW,IAAxC,CAA6C,SAAAC,CAAC,CAAI,CACvD,GAAIA,CAAC,CAACC,EAAN,CAAU,CACR,MAAOD,CAAAA,CAAC,CAACE,IAAF,GAASH,IAAT,CAAc,SAAAI,OAAO,CAAI,CAC9B,GAAIA,OAAJ,CAAa,CACX,MAAI,CAACC,QAAL,CAAc,CAAEV,WAAW,CAAE,IAAf,CAAqBC,MAAM,CAAEQ,OAAO,CAACR,MAArC,CAAd,EACD,CACF,CAJM,CAAP,CAKD,CAND,IAMO,CACL,MAAI,CAACS,QAAL,CAAc,CAAEV,WAAW,CAAEM,CAAf,CAAd,EACD,CACF,CAVM,CAAP,CAWD,CACF,C,sBAED,iBAAS,CACP,gBAAgC,KAAKP,KAArC,CAAQC,WAAR,aAAQA,WAAR,CAAqBC,MAArB,aAAqBA,MAArB,CACA,mBACE,oCACE,4DACyB,aADzB,wCAEyB,UAAG,IAAI,CAAC,yBAAR,+BAFzB,GADF,CAKGD,WAAW,eAAI,KAAC,WAAD,IALlB,CAMGC,MAAM,cAAG,KAAC,WAAD,EAAa,OAAO,CAAEA,MAAtB,EAAH,CAAsC,IAN/C,GADF,CAUD,C,mBArCiBR,S,EAwCpB,cAAeK,CAAAA,KAAf,CAEA,QAASa,CAAAA,WAAT,MAAkC,IAAXC,CAAAA,OAAW,MAAXA,OAAW,CAChC,mBACE,aAAK,SAAS,CAAC,SAAf,wBACE,2CACsB,GADtB,cAEE,kCACE,KAAC,eAAD,EAAiB,KAAK,CAAEA,OAAO,CAACC,KAAhC,EADF,YAFF,CAIO,GAJP,qBAKoB,GALpB,cAME,kCACE,KAAC,eAAD,EAAiB,KAAK,CAAED,OAAO,CAACE,OAAhC,EADF,cANF,CAQO,GARP,MASK,GATL,cAUE,kCACE,KAAC,eAAD,EAAiB,KAAK,CAAEF,OAAO,CAACG,MAAhC,EADF,aAVF,OADF,cAgBE,gCACW,GADX,cAEE,kCACE,KAAC,eAAD,EAAiB,KAAK,CAAEH,OAAO,CAACI,QAAhC,EADF,eAFF,CAIO,GAJP,qBAhBF,GADF,CA0BD","sourcesContent":["import React, { Component } from \"react\";\nimport { cachedFetch } from \"./Cache\";\nimport { FormattedNumber, ServerError, SetHTMLHeaders } from \"./Common\";\n\nclass About extends Component {\n  state = {\n    serverError: null,\n    totals: (this.props.totalStats && this.props.totalStats.totals) || null\n  };\n\n  componentDidMount() {\n    SetHTMLHeaders({\n      title: \"About - Song Search\"\n    });\n    if (!this.state.totals) {\n      return cachedFetch(\"/api/stats/totals-simple\").then(r => {\n        if (r.ok) {\n          return r.json().then(results => {\n            if (results) {\n              this.setState({ serverError: null, totals: results.totals });\n            }\n          });\n        } else {\n          this.setState({ serverError: r });\n        }\n      });\n    }\n  }\n\n  render() {\n    const { serverError, totals } = this.state;\n    return (\n      <div>\n        <p>\n          Made by Peter Bengtsson<br/>\n          For all inquires email <a href=\"mailto:info@songsear.ch\"> info@songsear.ch</a>\n        </p>\n        {serverError && <ServerError />}\n        {totals ? <ShowNumbers numbers={totals} /> : null}\n      </div>\n    );\n  }\n}\n\nexport default About;\n\nfunction ShowNumbers({ numbers }) {\n  return (\n    <div className=\"numbers\">\n      <p>\n        There are currently{\" \"}\n        <b>\n          <FormattedNumber value={numbers.songs} /> songs\n        </b>{\" \"}\n        to search amongst{\" \"}\n        <b>\n          <FormattedNumber value={numbers.artists} /> artists\n        </b>{\" \"}\n        in{\" \"}\n        <b>\n          <FormattedNumber value={numbers.albums} /> albums\n        </b>\n        .\n      </p>\n      <p>\n        In total{\" \"}\n        <b>\n          <FormattedNumber value={numbers.searches} /> searches\n        </b>{\" \"}\n        have been made.\n      </p>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}